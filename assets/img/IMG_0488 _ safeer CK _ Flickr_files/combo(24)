YUI.add("search-autosuggest-field-view",(function(e,t){e.namespace("Views")[this.name]=e.Base.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){var s=this.appContext.getLocation();return this.set("searchUrl",new e.SearchUrl(s.href,this.appContext)),this.set("siteSection",e.URLHelper.getSiteSectionByURL(s.pathname)),this.set("contextToString",{photos:this.intlMessage({intlName:"groups.PHOTOS"}),photostream:this.intlMessage({intlName:"groups.PHOTOS"}),favorites:this.intlMessage({intlName:"common.FAVORITES"}),faves:this.intlMessage({intlName:"common.FAVORITES"}),albums:this.intlMessage({intlName:"common.ALBUMS"}),everyone:this.intlMessage({intlName:"search.EVERYONE"}),contacts:this.intlMessage({intlName:"search.PEOPLE_YOU_FOLLOW"}),peopleYouFollow:this.intlMessage({intlName:"search.PEOPLE_YOU_FOLLOW"}),discussions:this.intlMessage({intlName:"groups.DISCUSSIONS_LINK_LABEL"}),commons:this.intlMessage({intlName:"commons.THE_COMMONS"})}),this.isSOHP=t.isSOHP,this.hasNavSelectaEnabled=this.appContext.flipper.isFlipped("enable-nav-selecta"),this.params=t,this},subviewConfig:{"search-autosuggest-items-list-view":{requiredToShowOnClient:!1,requiredToShowOnServer:!1,disabled:function(){return this.appContext.getUA().isMobileOrTablet}},"search-w-navselecta-view":{requiredToShowOnClient:!1,requiredToShowOnServer:!1,disabled:function(){return!this.appContext.flipper.isFlipped("enable-nav-selecta")}}},loadState:function(){return this.getContextModelPromise()},buildContainer:function(){var e=this.get("context"),t=this.get("searchUrl").getSearchTerm(),s=[];return e&&e.type&&s.push({combo:!!e.scope,name:e.name,secondName:this.get("contextToString")[e.scope]}),this.setContainerWithTemplate("search-autosuggest-field",{searchTerm:t,pills:s,hasPills:s.length>0}),(s.length>0||t.length>0)&&this.get("container").addClass("expanded"),this},activate:function(){var t=this.get("container"),s=t.one("#search-field");t.one(".search-form");if(this.attachKeyEvent("up:83",this.focusSearchField.bind(this)),t.one("form")&&this.registerEventHandler(t.one("form").on("submit",this.executeSearch.bind(this))),this.registerEventHandler(e.on("add-context-to-search-field",this.addContext.bind(this))),this.registerEventHandler(e.on("transfer-to-gn-search",this.addSearchText.bind(this))),this.registerEventHandler(t.on("mousedown",this.handleMouseDown.bind(this))),!this.hasNavSelectaEnabled){this.registerEventHandler(s.on({valuechange:this.updateAutosuggestItems.bind(this),focus:this.handleSearchFieldFocus.bind(this),blur:this.handleSearchFieldBlur.bind(this)})),this.registerEventHandler(s.on("key",this.handleSearchFieldKeydown.bind(this),"down:27,38,40,8"));try{e.config.doc.activeElement.isEqualNode(s.getDOMNode())&&(this.blurSearchField(),this.focusSearchField())}catch(e){}return this}},getContextModelPromise:function(){var t=this.get("searchUrl").getAPIParams(),s=e.Promise.resolve(),a=null,i=this;return t[e.SearchHelper.API.groupId]?(a={type:"group",id:t[e.SearchHelper.API.groupId],scope:"photos"},s=this.appContext.getModel("group-info-models",a.id)):t[e.SearchHelper.API.userId]?(a={type:"user",id:t[e.SearchHelper.API.userId],scope:t[e.SearchHelper.API.faves]?"favorites":"photostream"},t[e.SearchHelper.API.faves]?a.scope="favorites":t[e.SearchHelper.UNIFIED_STATE_PARAMS.albums]?a.scope="albums":a.scope="photostream",s=this.appContext.getModel("person-models",a.id)):t[e.SearchHelper.API.faves]?(a={type:"user",id:this.appContext.getViewer().nsid,scope:"favorites"},s=this.appContext.getModel("person-models",a.id)):t[e.SearchHelper.API.contacts]?a={type:"contacts",scope:"photos",name:this.get("contextToString").contacts}:t[e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll]?a={type:"everyone",scope:"photos",name:this.get("contextToString").everyone}:t[e.SearchHelper.API.commons]&&(a={type:"commons",id:1,name:this.get("contextToString").commons}),s.then((function(e){e&&(a.name="user"===a.type?e.getValue("displayname"):e.getValue("group").getValue("title")),i.set("context",a)}))},handleMouseDown:function(e){var t=e.target;1===e.which&&(t.hasClass("search-pill-remover")?(e.halt(),this.removeContext()):t.hasClass("search-icon-button")?(e.halt(),this.executeSearch(e)):(t.hasClass("search-pill")||t.hasClass("search-pillbox")||t.hasClass("search-form"))&&(e.halt(),this.focusSearchField()))},addSearchText:function(e){var t=this.get("container").one("#search-field");t.set("value",t.get("value")+e),this.hasNavSelectaEnabled?setTimeout(function(){this.focusSearchField()}.bind(this),300):this.focusSearchField()},addPill:function(t,s){var a,i={name:t};s&&(i.combo=!0,i.secondName=s),a=e.Node.create(this.templates("search-pill")(i)),this.get("container").one(".search-pillbox").appendChild(a)},removePills:function(){this.get("container").one(".search-pillbox").get("children").remove()},addContext:function(e,t=!0){var s=this.get("context");s&&s.id===e.id&&s.name===e.name&&s.type===e.type&&s.scope===e.scope||(s&&s.type?(this.removeContext(),this.set("context",e),this.addPill(e.name,this.get("contextToString")[e.scope])):(this.set("context",e),this.addPill(e.name,this.get("contextToString")[e.scope]))),this.fire("parentViewEvent","disable-autosuggest"),this.get("container").one("#search-field").set("placeholder",""),t&&this.focusSearchField()},removeContext:function(){var t=this.get("container"),s=t.one("#search-field");this.set("context",null),s.set("placeholder",this.intlMessage({intlName:"search.PHOTOS_PEOPLE_OR_GROUPS"})),this.removePills(),this.blurSearchBar(),e.fire("remove-context-in-search-field",{}),this.get("siteSection")&&"search"===this.get("siteSection").name&&s.get("value").length>0?this.executeSearch():(this.updateAutosuggestItems(),!this.appContext.flipper.isFlipped("enable-nav-selecta")&&t.hasClass("expanded")?this.fire("parentViewEvent","enable-autosuggest"):this.appContext.flipper.isFlipped("enable-nav-selecta")&&setTimeout(function(){this.fire("parentViewEvent","enable-autosuggest"),this.focusSearchField()}.bind(this),300))},onParentViewEvent:function(e,t){switch(t&&t.length&&t[0]){case"resize-search-field":this.resizeSearchField(t[1]);break;case"focus-search-field":this.focusSearchField();break;case"clear-search-field":this.clearSearchField()}},onSubviewEvent:function(e,t){var s,a,i=t&&t.length&&t[0],r=this.get("container");switch(i){case"autosuggest-lost-all-focus":this.handleAutosuggestBlur();break;case"focus-search-field":this.focusSearchField();break;case"autosuggest-no-items":r.removeClass("autosuggest-active");break;case"autosuggest-has-items":r.addClass("autosuggest-active");break;case"autosuggest-update-field":(a=r.one("#search-field"))&&"string"==typeof t[1]&&a.set("value",t[1]);break;case"backspace-focus":(a=r.one("#search-field"))&&(s=a.get("value"),a.set("value",s.substring(0,s.length-1)),this.focusSearchField())}},executeSearch:function(t){var s,a,i,r={};t&&t.halt(),s=this.get("container").one("#search-field").get("value"),(i=this.get("context"))&&i.type?("group"===i.type&&"discussions"===i.scope?(r.q=s,r.w=i.id,r.m="discuss",a=new e.SearchUrl(r,this.appContext,e.SearchUrl.searchTypes.CLASSIC_GROUPS)):("user"===i.type?(r[e.SearchHelper.API.userId]=i.id,r[e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll]=1,"favorites"===i.scope?r[e.SearchHelper.API.faves]=1:"albums"===i.scope?r[e.SearchHelper.UNIFIED_STATE_PARAMS.albums]=1:r[e.SearchHelper.API.userId]=i.id):"group"===i.type?(r[e.SearchHelper.API.groupId]=i.id,r[e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll]=1):"contacts"===i.type?(r[e.SearchHelper.API.contacts]="all",r[e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll]=1):"everyone"===i.type?r[e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll]=1:"commons"===i.type&&(r[e.SearchHelper.API.commons]=1),a=this.get("searchUrl"),Object.keys(r).forEach((function(e){a.setAPIParam(e,r[e])})),a.setSearchType(e.SearchUrl.searchTypes.PHOTOS),a.setSearchTerm(s)),e.rapidTracker.beacon(this.name,"searchWithContext_"+i.type+"_"+i.scope)):(a=this.get("searchUrl")).createNewSearch(s),this.appContext.flapp.navigate(a.getURL())},focusSearchField:function(e){this.appContext.overlayManager.popAll(),this.get("container").one("#search-field").focus()},blurSearchField:function(e){this.get("container").one("#search-field").blur()},resizeSearchField:function(e){e?(this.get("container").setStyle("width",e+"px"),this.get("container").one("#search-field").setStyle("width",e+"px")):(this.get("container").removeAttribute("style"),this.get("container").one("#search-field").removeAttribute("style"))},clearSearchField:function(e){this.get("container").one("#search-field").set("value","")},updateAutosuggestItems:function(e){var t;t=this.get("container").one("#search-field").get("value"),e&&e.halt(),this.get("context")||this.fire("parentViewEvent","update-autosuggest-items",t)},handleSearchFieldFocus:function(e){var t,s=this.get("container"),a=s.one(".search-form"),i=this;e.halt(),s.hasClass("focus")||(s.addClass("focus"),s.addClass("expanded"),this.expandTimer&&clearTimeout(this.expandTimer),this.get("context")||(t=this.registerEventHandler(a.on("transitionend",(function(){i.detachRegisteredEvent(t),i.updateAutosuggestItems(),s.hasClass("expanded")&&i.fire("parentViewEvent","enable-autosuggest")})))))},blurSearchBar:function(){clearTimeout(this.expandTimer),this.expandTimer=setTimeout(function(){var t=this.get("container"),s=this.get("context");e.one(e.config.doc.activeElement).hasClass("autosuggest-selectable-item")||(t.removeClass("focus"),t.removeClass("autosuggest-active"),s&&s.type||0!==t.one("#search-field").get("value").length||t.removeClass("expanded"),this.fire("parentViewEvent","disable-autosuggest"))}.bind(this),150)},handleSearchFieldBlur:function(e){e.halt(),e.relatedTarget&&e.relatedTarget.hasClass("search-icon-button")?this.executeSearch():this.blurSearchBar()},handleAutosuggestBlur:function(){this.blurSearchBar()},handleSearchFieldKeydown:function(t){var s=t.keyCode,a=t.target;switch(s){case 27:t.halt(),this.blurSearchField();break;case 38:t.halt(),this.fire("parentViewEvent","autosuggest-keyboard-nav","up");break;case 40:t.halt(),this.fire("parentViewEvent","autosuggest-keyboard-nav","down");break;case 8:0===e.fluid.getTextFieldCursorPosition(a)&&""===e.fluid.getTextFieldSelection()&&this.removeContext()}},destructor:function(){clearTimeout(this.expandTimer),this.expandTimer=null}})}),"@VERSION@",{requires:["flickr-view","flickr-promise","hermes-template-search-autosuggest-field","hermes-template-search-pill","search-url","autosuggest-context-results-models","storage-helper","search-autosuggest-items-list-view","url-helper"],optionalRequires:["fluid"],langBundles:["search","common","groups","commons"]});YUI.add("hermes-lang-groups",(function(e,t){e.Intl.add("hermes/groups","en-US",{POST_THRESHOLD_EVER:[{type:0,value:"Members can post "},{type:6,value:"count",options:{one:{value:[{type:0,value:"<b>"},{type:7},{type:0,value:"</b> thing"}]},other:{value:[{type:0,value:"<b>"},{type:7},{type:0,value:"</b> things"}]}},offset:0,pluralType:"cardinal"},{type:0,value:" to the pool."}],POST_THRESHOLD_DAY:[{type:0,value:"Members can post "},{type:6,value:"count",options:{one:{value:[{type:0,value:"<b>"},{type:7},{type:0,value:"</b> thing"}]},other:{value:[{type:0,value:"<b>"},{type:7},{type:0,value:"</b> things"}]}},offset:0,pluralType:"cardinal"},{type:0,value:" to the pool each day."}],POST_THRESHOLD_MONTH:[{type:0,value:"Members can post "},{type:6,value:"count",options:{one:{value:[{type:0,value:"<b>"},{type:7},{type:0,value:"</b> thing"}]},other:{value:[{type:0,value:"<b>"},{type:7},{type:0,value:"</b> things"}]}},offset:0,pluralType:"cardinal"},{type:0,value:" to the pool each month."}],POST_THRESHOLD_WEEK:[{type:0,value:"Members can post "},{type:6,value:"count",options:{one:{value:[{type:0,value:"<b>"},{type:7},{type:0,value:"</b> thing"}]},other:{value:[{type:0,value:"<b>"},{type:7},{type:0,value:"</b> things"}]}},offset:0,pluralType:"cardinal"},{type:0,value:" to the pool each week."}],ACCEPTED_CONTENT_TYPES:[{type:0,value:"Accepted content types:"}],ACCEPTED_MEDIA_TYPES:[{type:0,value:"Accepted media types:"}],ACCEPTED_SAFETY_LEVELS:[{type:0,value:"Accepted safety levels:"}],PHOTOS:[{type:0,value:"Photos"}],VIDEOS:[{type:0,value:"Videos"}],IMAGES:[{type:0,value:"Images"}],SCREENSHOTS:[{type:0,value:"Screenshots"}],ART:[{type:0,value:"Art"}],SAFE:[{type:0,value:"Safe"}],MODERATE:[{type:0,value:"Moderate"}],RESTRICTED:[{type:0,value:"Restricted"}],SEE_ALL_DISCUSSIONS:[{type:0,value:"See all discussions"}],DISCUSSION_TITLE:[{type:0,value:"Title"}],DISCUSSION_AUTHOR:[{type:0,value:"Author"}],DISCUSSION_REPLIES:[{type:0,value:"Replies"}],DISCUSSION_LAST_POST:[{type:0,value:"Latest Post"}],DISCUSSION_LAST_REPLIER:[{type:0,value:"Last Replier"}],NO_DISCUSSIONS:[{type:0,value:"Be the first to start a group discussion!"}],BE_THE_FIRST:[{type:0,value:"Be the first to add a photo to the group!"}],BE_THE_FIRST_JOIN:[{type:0,value:"Help get this group started: click the join button above!"}],BE_THE_FIRST_SIGN_IN:[{type:0,value:"Help get this group started: sign in and contribute photos!"}],NO_PHOTOS_BY_YOU:[{type:0,value:"You haven’t added any photos yet. What are you waiting for?"}],WHO_IS_ME:[{type:0,value:'Who is this "me" of which you speak?'}],INVALID_PERSON:[{type:0,value:"Never heard of them! Sorry!"}],ADD_SOME_PHOTOS:[{type:0,value:"Add some photos"}],NO_PHOTOS:[{type:0,value:"No photos in this group"}],POOL_PREVIEW_HEADER:[{type:0,value:"Photo pool"}],POOL_HEADER:[{type:0,value:"Group pool"}],ADD_PHOTO:[{type:0,value:"Add photo"}],VIEW_X_PHOTOS:[{type:6,value:"count",options:{one:{value:[{type:0,value:"View "},{type:7},{type:0,value:" photos"}]},other:{value:[{type:0,value:"View "},{type:7},{type:0,value:" photos"}]}},offset:0,pluralType:"cardinal"}],DISCUSSIONS:[{type:0,value:"Discussions"}],ADD_TOPIC:[{type:0,value:"Add topic"}],SEARCH_DISCUSSIONS:[{type:0,value:"Search discussions"}],SEARCH_POOL:[{type:0,value:"Search pool"}],ADD_A_TOPIC:[{type:0,value:"Add a topic"}],TOP_CONTRIBUTORS:[{type:0,value:"Top Contributors"}],CONTRIBUTORS:[{type:0,value:"Contributors"}],CONTRIBUTORS_RANK:[{type:0,value:"Rank"}],CONTRIBUTORS_LATEST_PHOTO:[{type:0,value:"Latest Photo"}],CONTRIBUTORS_PHOTOS:[{type:0,value:"Photos"}],CONTRIBUTORS_DISCUSSIONS:[{type:0,value:"Discussions"}],CONTRIBUTORS_JOINED_GROUP:[{type:0,value:"Joined Group"}],SEE_ALL_MEMBERS:[{type:0,value:"View all members"}],TOTAL_DISCUSSIONS:[{type:6,value:"count",options:{one:{value:[{type:7},{type:0,value:" discussion in"}]},other:{value:[{type:7},{type:0,value:" discussions in"}]}},offset:0,pluralType:"cardinal"},{type:0,value:" "},{type:1,value:"groupname"}],DISCUSSION_STICKY:[{type:0,value:"Sticky"}],RANKING:[{type:0,value:"#"},{type:1,value:"count"}],BLAST_INVITED_MEMBER:[{type:0,value:"MEMBER"}],BLAST_PENDING_MEMBER:[{type:0,value:"MEMBER"}],BLAST_GROUP_MEMBER:[{type:0,value:"MEMBER"}],BLAST_MODERATOR:[{type:0,value:"MODERATOR"}],BLAST_ADMIN:[{type:0,value:"ADMIN"}],SHARE:[{type:0,value:"Share"}],EIGHTTEEN_PLUS_SIGNEDIN:[{type:0,value:"This group is 18+, do you want to enter?"}],EIGHTEEN_PLUS_SIGNEDOUT:[{type:0,value:"This group is 18+. Sign in to view the group."}],NO:[{type:0,value:"No"}],YES:[{type:0,value:"Yes"}],GROUP_POOL_LOADING_ERROR:[{type:0,value:"Error loading the group’s pool photos"}],GROUP_DISCUSSION_LOADING_ERROR:[{type:0,value:"Error loading the group’s discussion list"}],GROUP_TOP_CONTRIBUTORS_LOADING_ERROR:[{type:0,value:"Error loading the group’s top contributors"}],GROUP_DELETION_ERROR:[{type:0,value:"Something went wrong deleting the photo...please try again."}],RETRY:[{type:0,value:"Retry"}],ADDED_NOTIFICATION:[{type:0,value:'Success! Would you like to <a href="'},{type:1,value:"url"},{type:0,value:'">add something else</a>?'}],NOT_ADDED_NOTIFICATION:[{type:0,value:'That’s already in the group pool. <a href="'},{type:1,value:"url"},{type:0,value:'">Try something else?</a>'}],PENDING_NOTIFICATION:[{type:0,value:'Your photo/video has been submitted the group. If approved by the group administrator, it will show up in the group pool. Would you like to <a href="'},{type:1,value:"url"},{type:0,value:'">add another</a>?'}],DONE_PENDING_NOTIFICATION:[{type:0,value:"All done! There’s nothing else to moderate."}],GROUP_ADD_PENDING:[{type:0,value:"Pending approval by administrator"}],DELETED_NOTIFICATION:[{type:0,value:"That item has been removed from the pool."}],POOL_MEMBERS_ONLY:[{type:0,value:"This group pool is for members only."}],DISCUSSION_MEMBERS_ONLY:[{type:0,value:"This group discussion is for members only."}],DISCUSSION_MEMBERS_ONLY_INTERSTITIAL:[{type:0,value:"This group discussion is for members only. Join the conversation with the Join group button above, or click Overview to learn more about the group."}],REMOVE_PHOTO:[{type:0,value:"Remove this photo from the group pool?"}],PENDING_COUNT_NOTIFICATION:[{type:0,value:'You have <a href="'},{type:1,value:"url"},{type:0,value:'">'},{type:6,value:"pendingCount",options:{zero:{value:[{type:0,value:"0 photos"}]},one:{value:[{type:7},{type:0,value:" photo"}]},other:{value:[{type:7},{type:0,value:" photos"}]}},offset:0,pluralType:"cardinal"},{type:0,value:" pending</a>"}],X_GROUPS:[{type:6,value:"count",options:{one:{value:[{type:7},{type:0,value:" Group"}]},other:{value:[{type:7},{type:0,value:" Groups"}]}},offset:0,pluralType:"cardinal"}],HAS_NONE:[{type:0,value:"Looks like you don’t belong to any group, so there is a list of ones you might like below."}],SIGNED_OUT:[{type:0,value:"Groups are a fabulous way to share content and conversation, either privately or with the world. Believe us when we say there’s probably a group for everyone, but if you can’t find one you like, feel free to start your own."}],LAST_REPLY_TIME_AGO:[{type:0,value:'<a href="'},{type:1,value:"replyurl"},{type:0,value:'" data-track="groupDiscussionTopicLastReplyClick">'},{type:1,value:"time"},{type:0,value:" ago</a>"}],MEMBERS_ONLY_POOL_JOIN:[{type:0,value:"Only members can see this group pool. Click Overview above to learn more about the group, or the Join group button above to, uh...join!"}],MEMBERS_ONLY_POOL_SIGN_IN:[{type:0,value:"Only members can see this group pool. Sign in to join the group."}],PRIVATE_GROUP:[{type:0,value:"You’ve reached a private group."}],RETURN_HOME:[{type:0,value:"Return home"}],DISCUSSIONS_DISABLED:[{type:0,value:"Discussions are disabled for this group."}],GO_TO_GROUP_HOME:[{type:0,value:"Go to group home"}],GROUP_JOIN_RULES_DIALOG_TITLE:[{type:0,value:"Group Rules"}],GROUP_JOIN_RULES_DIALOG_MESSAGE:[{type:0,value:"If you agree to these rules, you can join the group."}],GROUP_JOIN_RULES_DIALOG_ACCEPT:[{type:0,value:"I agree"}],GROUP_JOIN_RULES_DIALOG_DECLINE:[{type:0,value:"No, thanks"}],GROUP_JOIN_ERROR:[{type:0,value:"Something went wrong with joining the group."}],GROUP_LEAVE_ERROR:[{type:0,value:"Something went wrong with leaving the group."}],GROUPS:[{type:0,value:"Groups"}],GROUPS_LIST_LOADING_ERROR:[{type:0,value:'There was an issue loading the groups.<br>Click <a class="retry">Reload</a> to try again.'}],GROUPS_LIST_ERROR_HEADER:[{type:0,value:"Error loading groups"}],CONTRIBUTORS_DISCUSSION_TOPICS:[{type:0,value:"Topics"}],GROUPS_LIST_GROUPS:[{type:0,value:"Groups"}],GROUPS_LIST_MEMBERS:[{type:0,value:"Members"}],GROUPS_LIST_PHOTOS:[{type:0,value:"Photos"}],GROUPS_LIST_TOPICS:[{type:0,value:"Topics"}],GROUPS_LIST_LATEST:[{type:0,value:"Latest"}],GROUPS_LIST_LATEST_DISCUSSION:[{type:0,value:"Latest Post"}],GROUPS_LIST_LATEST_PHOTO:[{type:0,value:"Latest Photo"}],GROUPS_LEAVE_WARNING_TITLE:[{type:0,value:"Leave "},{type:1,value:"title"},{type:0,value:"?"}],GROUPS_LEAVE_WARNING:[{type:0,value:'Do you really want to leave the group "'},{type:1,value:"title"},{type:0,value:'?"'}],GROUPS_LEAVE_WARNING_LAST_MEMBER:[{type:0,value:'Do you really want to leave the group "'},{type:1,value:"title"},{type:0,value:'"? Because you are the last person in this group, the group will be deleted if you leave.'}],GROUPS_LEAVE_WARNING_ADMIN:[{type:0,value:'Do you really want to leave the group "'},{type:1,value:"title"},{type:0,value:'"? If you are the last administrator in this group, the longest serving member will be promoted to administrator after you leave.'}],GROUPS_LEAVE_WARNING_REMOVE_PHOTOS:[{type:0,value:'<div class="checkbox-prompt"><label><input type="checkbox">Also remove all the photos & videos you have added to the group pool?</input></label></div>'}],GROUPS_LEAVE_WARNING_LEAVE_BUTTON:[{type:0,value:"Leave this group"}],GROUPS_LEAVE_WARNING_CANCEL_BUTTON:[{type:0,value:"Cancel"}],EMPTY_BLAST:[{type:0,value:"There’s no admin blast."}],ADD_BLAST:[{type:0,value:"Why don’t you add one?"}],REMOVING_BLAST:[{type:0,value:"Removing Blast..."}],CREATE_BLAST:[{type:0,value:"Add Group Admin Blast"}],BACK_TO_OVERVIEW:[{type:0,value:"Back to group overview"}],GROUP_POOL:[{type:0,value:"Group pool"}],NO_VISIBLE_PHOTOS:[{type:1,value:"screenname"},{type:0,value:" doesn’t have any photos visible to you in the "},{type:1,value:"groupTitle"},{type:0,value:" pool."}],UPDATE_BLAST_ERROR:[{type:0,value:"Could not update the group blast at this time"}],DELETE_BLAST_ERROR:[{type:0,value:"Could not delete the group blast at this time"}],LONG_BLAST_ERROR:[{type:6,value:"count",options:{one:{value:[{type:0,value:"Group blast is "},{type:7},{type:0,value:" character, it must be less than 496 characters."}]},other:{value:[{type:0,value:"Group blast is "},{type:7},{type:0,value:" characters, it must be less than 496 characters."}]}},offset:0,pluralType:"cardinal"}],GROUPS_LIST_BELONG_HEADER:[{type:0,value:"Groups you are a member of"}],GROUPS_LIST_BELONG_MORE:[{type:0,value:"View all groups you are a member of"}],PENDING:[{type:6,value:"count",options:{one:{value:[{type:7},{type:0,value:" pending"}]},other:{value:[{type:7},{type:0,value:" pending"}]}},offset:0,pluralType:"cardinal"}],GROUPS_ADMIN:[{type:0,value:"Groups you administer"}],GROUPS_MODERATED:[{type:0,value:"Groups you moderate"}],GROUPS_BELONG:[{type:0,value:"Groups you are a member of"}],GROUPS_FAVED:[{type:0,value:"Groups you faved"}],VIEW_ALL_GROUPS_ADMIN:[{type:0,value:"View all groups you administer"}],VIEW_ALL_GROUPS_MODERATED:[{type:0,value:"View all groups you moderate"}],GROUP_DESCRIPTION:[{type:0,value:"Group Description"}],GROUP_RULES:[{type:0,value:"Group Rules"}],GROUP_ADDITIONAL_INFO:[{type:0,value:"Additional Info"}],PENDING_MEMBER_COUNT_NOTIFICATION:[{type:0,value:'You have <a href="'},{type:1,value:"url"},{type:0,value:'">'},{type:6,value:"pendingCount",options:{zero:{value:[{type:0,value:"0 pending members"}]},one:{value:[{type:7},{type:0,value:" pending member"}]},other:{value:[{type:7},{type:0,value:" pending members"}]}},offset:0,pluralType:"cardinal"},{type:0,value:"</a>"}],BLAST_DATE_ADDED:[{type:3,value:"blastDateAdded",style:"long"}],GROUP_DISCUSSION_START:[{type:0,value:"Start a discussion"}],GROUP_DISCUSSION_DELETE_REPLY:[{type:0,value:"Delete reply"}],GROUP_DISCUSSION_CONFIRM_DELETE:[{type:0,value:"Are you sure you want to delete this reply?"}],GROUP_DISCUSSION_DELETE:[{type:0,value:"Delete"}],GROUP_DISCUSSION_DELETE_FAILED:[{type:0,value:"Failed to delete reply, please try again."}],GROUP_DISCUSSION_PUBLISH_FAILED:[{type:0,value:"Failed to post reply, please try again."}],GROUP_DISCUSSION_PUBLISH_REPLY:[{type:0,value:"Post reply"}],GROUP_DISCUSSION_RECENT_DISCUSSIONS:[{type:0,value:"Discussions"}],GROUP_DISCUSSION_POST_REPLY:[{type:0,value:"Post reply"}],GROUP_DISCUSSION_PUBLISH:[{type:0,value:"Post Reply"}],GROUP_DISCUSSION_PREVIEW:[{type:0,value:"Preview"}],GROUP_DISCUSSION_EDIT_FAILED:[{type:0,value:"Failed to edit reply, please try again."}],GROUP_DISCUSSION_EDIT_REPLY:[{type:0,value:"Edit reply"}],GROUP_DISCUSSION_PREVIEW_EDIT_FAILED:[{type:0,value:"Failed to preview edit, please try again."}],GROUP_DISCUSSION_PREVIEW_EDIT:[{type:0,value:"Preview edit"}],GROUP_DISCUSSION_PREVIEW_REPLY_FAILED:[{type:0,value:"Failed to preview reply, please try again."}],GROUP_DISCUSSION_PREVIEW_REPLY:[{type:0,value:"Preview reply"}],GROUP_DISCUSSION_POST_LOCKED_WITH_LINK:[{type:0,value:"Group discussion in "},{type:1,value:"groupname"},{type:0,value:' has been locked. (<a href="'},{type:1,value:"unlockUrl"},{type:0,value:'">unlock?</a>)'}],GROUP_DISCUSSION_POST_LOCKED:[{type:0,value:"This topic has been locked."}],GROUP_DISCUSSION_REPLY_EDITED:[{type:0,value:"Posted "},{type:1,value:"createdAgo"},{type:0,value:". Edited "},{type:1,value:"editedAgo"}],GROUP_DISCUSSION_REPLY_EDITED_WITH_ROLE:[{type:0,value:"Posted "},{type:1,value:"createdAgo"},{type:0,value:". Edited by "},{type:1,value:"editAuthor"},{type:0,value:" ("},{type:1,value:"editRole"},{type:0,value:") "},{type:1,value:"editedAgo"}],GROUP_DISCUSSION_REPLY_EDITED_BY_STAFF:[{type:0,value:"Posted "},{type:1,value:"createdAgo"},{type:0,value:". Edited by "},{type:1,value:"editAuthor"},{type:0,value:" (Staff) "},{type:1,value:"editedAgo"}],GROUP_DISCUSSION_DELETE_TOPIC:[{type:0,value:"Delete topic"}],GROUP_DISCUSSION_CONFIRM_DELETE_TOPIC:[{type:0,value:"Are you sure you want to delete this topic?"}],GROUP_DISCUSSION_STICKY_FAILED:[{type:0,value:"Failed to mark/unmark this topic as sticky.  Please try again"}],GROUP_DISCUSSION_STICKY:[{type:0,value:"Sticky"}],GROUP_DISCUSSION_LOCK_FAILED:[{type:0,value:"Failed to lock/unlock this topic.  Please try again"}],GROUP_DISCUSSION_LOCK:[{type:0,value:"Lock Topic"}],DISCUSSION_REPLY_REPLY_PROMPT:[{type:0,value:"Click to reply to the reply"}],DISCUSSION_REPLY_PERMALINK_PROMPT:[{type:0,value:"Permalink"}],DISCUSSION_REPLY_DELETE_PROMPT:[{type:0,value:"Click to delete this reply"}],DISCUSSION_REPLY_EDIT_PROMPT:[{type:0,value:"Click to edit this reply"}],GROUP_DISCUSSION_LOCK_CONFIRMATION_TITLE:[{type:0,value:"Lock topic"}],GROUP_DISCUSSION_LOCK_CONFIRMATION:[{type:0,value:"Are you sure you want to lock this topic?"}],GROUP_DISCUSSION_LOCK_BUTTON:[{type:0,value:"Lock"}],GROUP_DISCUSSION_UNLOCK_CONFIRMATION_TITLE:[{type:0,value:"Unlock topic"}],GROUP_DISCUSSION_UNLOCK_CONFIRMATION:[{type:0,value:"Are you sure you want to unlock this topic?"}],GROUP_DISCUSSION_UNLOCK_BUTTON:[{type:0,value:"Unlock"}],DISCUSSION_MORE_LINK:[{type:0,value:"More..."}],DISCUSSION_SEARCH_LINK:[{type:0,value:"Search this group’s discussions"}],DISCUSSION_FORMAT_REPLY:[{type:0,value:"Want to format your reply?"}],GROUP_DISCUSSION_FORMATTING_TITLE:[{type:0,value:"Discussion Formatting"}],GROUP_DISCUSSION_FORMATTING_CLOSE:[{type:0,value:"Close"}],SIGN_IN_TO_REPLY:[{type:0,value:"Sign in to reply"}],DISCUSSION_SIGN_IN_TO_REPLY:[{type:0,value:"Sign in to reply!"}],GROUP_DISCUSSION_PUBLISH_FAILED_LOCKED:[{type:0,value:"Failed to post reply. This topic has now been locked."}],GROUP_DISCUSSION_PUBLISH_FAILED_LOCKED_OR_NONMEMBER:[{type:0,value:"Failed to post reply. This topic is locked or you are not a member of the group."}],GROUP_DISCUSSION_PUBLISH_FAILED_DELETED:[{type:0,value:"Failed to post reply.  This topic has been deleted."}],GROUP_DISCUSSION_GROUP_LOCKED:[{type:0,value:"All discussions are locked for this group"}],GROUP_DISCUSSION_GROUP_LOCKED_WITH_LINK:[{type:0,value:'All discussions are locked for this group (<a title="unlock group discussions?" href="'},{type:1,value:"unlockUrl"},{type:0,value:'">unlock?</a>)'}],CREATED_YEAR:[{type:0,value:"Since "},{type:1,value:"createdYear"}],UPDATED_TIME_AGO:[{type:0,value:"Updated "},{type:1,value:"updatedAgo"}],GROUP_JOIN:[{type:0,value:"Join Group"}],GROUP_JOIN_SHORT:[{type:0,value:"Join"}],GROUP_JOINED:[{type:0,value:"Joined"}],GROUP_JOIN_REQUESTED:[{type:0,value:"Join Requested"}],GROUP_JOIN_REQUESTED_SHORT:[{type:0,value:"Pending"}],GROUP_LEAVE_GROUP:[{type:0,value:"Leave Group"}],GROUP_LEAVE_GROUP_SHORT:[{type:0,value:"Leave"}],PHOTOS_LINK_LABEL:[{type:0,value:"Photos"}],DISCUSSIONS_LINK_LABEL:[{type:0,value:"Discussions"}],ADMIN_LINK_LABEL:[{type:0,value:"Administration"}],ERROR_LOADING:[{type:0,value:"There was an error loading this group. Please try again later."}],VISIBLE_REPLIES:[{type:0,value:"("},{type:1,value:"from"},{type:0,value:" to "},{type:1,value:"to"},{type:0,value:" of "},{type:1,value:"total"},{type:0,value:" replies)"}],JOIN_GROUP_TO_START_DISCUSSION:[{type:0,value:"Join the group to start a discussion!"}],POOL_PREVIEW:[{type:6,value:"count",options:{one:{value:[{type:0,value:"Showing "},{type:7},{type:0,value:" row"}]},other:{value:[{type:0,value:"Showing "},{type:7},{type:0,value:" rows"}]}},offset:0,pluralType:"cardinal"}],GROUP_BAN_MEMBER:[{type:0,value:"Ban Member"}],GROUP_BAN_USER:[{type:0,value:"Ban user from the group"}],GROUP_BAN_USER_REMOVE_PHOTOS:[{type:0,value:"Ban user and remove their photos from the group"}],GROUP_BAN_USER_SUCCESS:[{type:0,value:"User successfully banned from the group.  If you opted to remove their photos and there are a lot of photos in the pool, it may take a while for all the photos to be removed from the pool."}],GROUP_REMOVE_USER:[{type:0,value:"Remove user from the group"}],GROUP_REMOVE_USER_REMOVE_PHOTOS:[{type:0,value:"Remove user and their photos from the group"}],GROUP_REMOVE_USER_SUCCESS:[{type:0,value:"User successfully removed from the group.  If you opted to remove their photos and there are a lot of photos in the pool, it may take a while for all the photos to be removed from the pool."}],GROUP_REMOVE_MEMBER_FAILED_ALREADY:[{type:0,value:"Failed to remove the member at this time.  They may have already been removed from the group."}],GROUP_REMOVE_MEMBER_FAILED:[{type:0,value:"Failed to remove the member at this time.  Please try again."}],GROUP_BAN_MEMBER_FAILED:[{type:0,value:"Failed to ban the member at this time.  Please try again."}],GROUP_BAN_MEMBER_CONFIRM:[{type:0,value:"Are you sure you want to ban this member from the group?"}],GROUPS_BAN_MEMBER_BUTTON:[{type:0,value:"Ban Member"}],GROUPS_BAN_MEMBER_CANCEL_BUTTON:[{type:0,value:"Cancel"}],GROUP_BAN_MEMBER_SUCCESS:[{type:0,value:"Member successfully banned from the group"}],GROUP_BAN_MEMBER_FAILED_ALREADY:[{type:0,value:"Failed to ban the member at this time.  They may have already been banned from the group."}],GROUP_MEMBERS_SIGNIN:[{type:0,value:"Sign in to see the group’s members."}],GROUP_MEMBERS_ERROR_LOADING:[{type:0,value:"There was an error loading this group’s members. Please try again later."}],GROUP_MEMBERS_LOADMORE:[{type:0,value:"Load more members"}],GROUP_LANDING_HEADLINE:[{type:0,value:"Flickr groups are a great way to share photos, post comments, and hold discussions around a common theme."}],GROUP_RECOMMENDED_GET_STARTED:[{type:0,value:"Get started with these Flickr Groups"}],GROUP_RECOMMENDED_JOIN_A_GROUP:[{type:0,value:"Join a group!"}],SIGN_IN_BEFORE_JOIN_TITLE:[{type:0,value:"You found a group to join!"}],SIGN_IN_BEFORE_JOIN_MESSAGE:[{type:0,value:"That’s fantastic. Just sign in to join "},{type:1,value:"name"},{type:0,value:"."}],SIGN_UP_AND_JOIN_MESSAGE:[{type:0,value:"Join Flickr to become a member of "},{type:1,value:"name"},{type:0,value:"."}],SIGN_IN_AND_JOIN:[{type:0,value:"Sign in and join"}],SIGN_UP_BEFORE_CREATE_TITLE:[{type:0,value:"Create a new Flickr Group!"}],SIGN_UP_AND_CREATE_MESSAGE:[{type:0,value:"Join Flickr to create a new group."}],GROUPS_SUBNAV_MEMBERS:[{type:6,value:"count",options:{one:{value:[{type:0,value:"member"}]},other:{value:[{type:0,value:"members"}]}},offset:0,pluralType:"cardinal"}],GROUPS_SUBNAV_DISCUSSIONS:[{type:6,value:"count",options:{one:{value:[{type:0,value:"discussion"}]},other:{value:[{type:0,value:"discussions"}]}},offset:0,pluralType:"cardinal"}],GROUPS_SUBNAV_PHOTOS:[{type:6,value:"count",options:{one:{value:[{type:0,value:"photo"}]},other:{value:[{type:0,value:"photos"}]}},offset:0,pluralType:"cardinal"}],GROUPS_COVER_ATTRIBUTION:[{type:0,value:"Photo by "},{type:1,value:"username"}],GROUPS_BACK_TO_MINE:[{type:0,value:"Back to my groups"}],GROUPS_BACK_TO_OTHERS:[{type:0,value:"Back to "},{type:1,value:"username"},{type:0,value:" groups"}],GROUPS_FOUNDED:[{type:0,value:"Founded on "},{type:3,value:"intlDate",style:"long"}],NO_PUBLIC_GROUPS:[{type:0,value:"This user has not joined any public groups."}],RECOMMENDED_GROUPS:[{type:0,value:"Recommended groups:"}],GROUP_POOL_CONTAINS_NO_PUBLIC_PHOTOS:[{type:0,value:"No public photos in the group pool"}],GROUP_INVITE_ONLY_HEADER:[{type:0,value:"Membership in "},{type:1,value:"groupName"},{type:0,value:" is by invitation only."}],GROUP_INVITE_ONLY_DESC:[{type:0,value:"All you need to do is contact the administrator responsible for invitations to let them know you’re interested in signing up!"}],GROUP_INVITE_ONLY_CONTACT_ADMIN:[{type:0,value:"Contact the group administrator"}],GROUP_INVITE_ONLY_SEND:[{type:0,value:"Send"}],GROUP_INVITE_EMPTY_MESSAGE:[{type:0,value:"Message is empty."}],GROUP_INVITE_PENDING:[{type:0,value:"Your request to join "},{type:1,value:"groupName"},{type:0,value:" is still awaiting moderator attention - hang in there!"}],GROUP_SLOW:[{type:0,value:"We’re having some trouble displaying this group at the moment. Please try again."}],RESET_FILTER:[{type:0,value:"Reset Filter"}],GROUP_CREATION_INTRO:[{type:0,value:'Take a look at our <a href="'},{type:1,value:"group_guidelines_url"},{type:0,value:'" target="_blank">Group Guidelines</a> or the <a href="'},{type:1,value:"help_url"},{type:0,value:'" target="_blank">Group Help Pages</a> for tips on running a successful group on Flickr. Good luck, and have fun!'}],PUBLIC_GROUP:[{type:0,value:"Public group"}],PUBLIC_GROUP_DESC_1:[{type:0,value:"The group page is public and anyone who wants to can join instantly."}],INVITE_ONLY_GROUP:[{type:0,value:"Invite-Only group"}],INVITE_ONLY_GROUP_DESC_1:[{type:0,value:"Anyone can view an Invite-Only group page, but the only way to join the group is by invitation."}],INVITE_ONLY_GROUP_DESC_3:[{type:0,value:"This group type has the option to be completely private and unsearchable."}],ALL_GROUP_DESC_2:[{type:0,value:"Admins can choose to show or hide discussions and/or group pools from non-members."}],MAKE_GROUP_PRIVATE:[{type:0,value:"Make this group private"}],PRIVATE_GROUP_DESC_1:[{type:0,value:"Only group members and those who have been invited will be able to view the group page."}],PRIVATE_GROUP_DESC_2:[{type:0,value:'Private groups <span class="bold">cannot be made public later</span>.'}],GROUP_NAME_DESC_INSTRUCTION:[{type:0,value:"Give your group a name and description in "},{type:5,value:"lang",options:{en_US:{value:[{type:0,value:"English"}]},de_DE:{value:[{type:0,value:"German"}]},es_US:{value:[{type:0,value:"Spanish"}]},fr_FR:{value:[{type:0,value:"French"}]},id_ID:{value:[{type:0,value:"Indonesian"}]},it_IT:{value:[{type:0,value:"Italian"}]},ko_KR:{value:[{type:0,value:"Korean"}]},pt_BR:{value:[{type:0,value:"Portuguese"}]},vi_VN:{value:[{type:0,value:"Vietnamese"}]},other:{value:[{type:0,value:"Chinese"}]}}},{type:0,value:". You or other group admins will be able to translate it in up to 9 other languages later."}],GROUP_NAME_PLACEHOLDER:[{type:0,value:"Group name"}],GROUP_DESC_PLACEHOLDER:[{type:0,value:"What is the purpose or theme of your group? (optional)"}],GROUP_SAFETY_EVERYONE:[{type:0,value:"This group is safe for everyone"}],GROUP_SAFETY_RESTRICTED:[{type:0,value:"This group is for adults age 18+"}],GROUP_TERMINATION_WARNING:[{type:0,value:'Note: Be sure your group abides by our <a href="'},{type:1,value:"comm_guidelines_url"},{type:0,value:'" target="_blank">Community Guidelines</a> and <a href="'},{type:1,value:"terms_of_service_url"},{type:0,value:'" target="_blank">Terms of Service</a>. If you don’t, Flickr may terminate it without warning.'}],IS_INVITED_NOTIFICATION:[{type:0,value:"You have been invited to this group. Click the Join Group button above to get started!"}],UNCONCERNED_WITH_GROUP_PHOTO_LIMIT:[{type:0,value:"This group doesn’t care how many other groups a photo is in"}],CONCERNED_WITH_GROUP_PHOTO_LIMIT:[{type:0,value:"This group will count toward the photo’s limit ("},{type:1,value:"proGroupPhotoLimit"},{type:0,value:" for Pro members, "},{type:1,value:"freeGroupPhotoLimit"},{type:0,value:" for free members)"}],YOUR_GROUP_CREATED:[{type:0,value:"Your group has been created!"}],CREATE_GROUP:[{type:0,value:"Create group"}],GROUP_SAFETY_LEVEL:[{type:0,value:"Group safety level"}],WE_SET_ONLY_SAFE:[{type:0,value:"We set your group to only allow safe content."}],CAN_CHANGE_IN_ADMIN_SETTINGS:[{type:0,value:"You can change this later in the group’s administration settings."}],WE_SET_SAFE_AND_MODERATE:[{type:0,value:"We set your group to allow both safe and moderate content."}],WE_SET_18_PLUS:[{type:0,value:"We set your group as 18+ since the photo you’re adding has a “Restricted” safety level."}],GOOD_FOR_ALL_AGES:[{type:0,value:"This group is good for all ages"}],GROUP_IS_18_PLUS:[{type:0,value:"This group is 18+"}],FOR_ADULT_ONLY_GROUPS:[{type:0,value:"For groups that contain adult-only or sensitive content."}],PINNED_GROUPS:[{type:0,value:"Pinned groups"}],CREATE_NEW_GROUP:[{type:0,value:"Create new group"}],RECENT_DISCUSSIONS:[{type:0,value:"Recent discussions"}],GROUPS_LIST_OPTIONS:[{type:0,value:"Options"}],PIN_GROUP:[{type:0,value:"Pin to top of page"}],UNPIN_GROUP:[{type:0,value:"Unpin group"}],SHOW_GROUP_FEED:[{type:0,value:"Show in activity feed"}],HIDE_GROUP_FEED:[{type:0,value:"Hide from activity feed"}],MUTE_NOTIFICATIONS:[{type:0,value:"Mute notifications"}],UNMUTE_NOTIFICATIONS:[{type:0,value:"Unmute notifications"}],GROUPS_FAVED_NOW_PINNED:[{type:0,value:"<b>Groups you faved</b> is now called <b>Pinned groups</b>."}],PINNED_MORE_ACTIVITY:[{type:0,value:"You’ll receive more updates in your activity feed and new discussion topic notifications from pinned groups."}],MANAGE_PINNED_INFO:[{type:0,value:'Click on the three dots icon (<svg class="icon icon-more_horizontal"><use xlink:href="#icon-more_horizontal"></use></svg>) in the options column next to a group to manage pinned status, feed activity, and more.'}],SWITCH_TO_CLASSIC_GROUPS:[{type:0,value:"Switch to classic Groups (deprecated)"}],SWITCH_TO_REBOOT_GROUPS:[{type:0,value:"Switch to new Groups (recommended)"}],YOUVE_BEEN_INVITED_QUESTION:[{type:0,value:"You’ve been invited to this group — would you like to join?"}]})}),"@VERSION@",{requires:["intl"]});YUI.add("hermes-lang-commons",(function(e,o){e.Intl.add("hermes/commons","en-US",{FLICKR_COMMONS:[{type:0,value:"Flickr Commons"}],THE_COMMONS:[{type:0,value:"The Commons"}],FLICKR_FDN:[{type:0,value:"Flickr Foundation"}],WELCOME_TITLE:[{type:0,value:"Welcome to the "},{type:1,value:"title"}],INTRO_PARAGRAPH:[{type:0,value:'Since launching in 2008 with the <a href="'},{type:1,value:"locURL"},{type:0,value:'">Library of Congress</a>, the Flickr Commons has been sharing hidden treasures from the world’s photography archives, with over 100 members.'}],INTRO_PARAGRAPH_NO_LINKS:[{type:0,value:"Since launching in 2008 with the Library of Congress, the Flickr Commons has been sharing hidden treasures from the world’s photography archives, with over 100 members."}],ALBUMS_TITLE:[{type:0,value:"Browse albums from Commons members"}],UPLOADS_TITLE:[{type:0,value:"Uploads this month"}],GALLERIES_TITLE:[{type:0,value:"Explore galleries curated by Flickr members"}],HISTORY_TITLE:[{type:0,value:"The Commons over time"}],GRAPH_TITLE:[{type:0,value:"Photos taken in The Commons by decade"}],REGISTER_TITLE:[{type:0,value:"Register to join"}],REGISTRATION_PARAGRAPH:[{type:0,value:"If you work at a cultural institution with a photography collection, please consider becoming a member of Flickr Commons!"}],REGISTRATION_BUTTON:[{type:0,value:"Register with The Commons"}],ABOUT_TITLE:[{type:0,value:"The Flickr Commons Program"}],ABOUT_PARAGRAPH:[{type:0,value:"This program is looked after by the Flickr Foundation with four main objectives:"}],GOAL_1:[{type:0,value:"Increase access to publicly held photography collections"}],GOAL_2:[{type:0,value:"Propagate updates from and to member catalogs and other sources"}],GOAL_3:[{type:0,value:"Provide a way for the general public to contribute information and knowledge"}],GOAL_4:[{type:0,value:"Protect and attend to the long life of this unique collection"}],LEARN_MORE_BUTTON:[{type:0,value:"Learn more at Flickr.org"}]})}),"@VERSION@",{requires:["intl"]});YUI.add("hermes-template-notifications-menu",(function(n,e){var t=n.Template.Handlebars.revive({1:function(n,e,t,a,i){var o,l=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return n.escapeExpression("function"==typeof(o=null!=(o=l(t,"unseenNotificationCount")||(null!=e?l(e,"unseenNotificationCount"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"unseenNotificationCount",hash:{},data:i,loc:{start:{line:7,column:81},end:{line:7,column:108}}}):o)},compiler:[8,">= 4.3.0"],main:function(n,e,t,a,i){var o,l=null!=e?e:n.nullContext||{},s=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<a class="gn-title c-notifications-menu"\n\ttabindex="0"\n\taria-haspopup="true"\n\taria-expanded="false"\n\taria-label="'+n.escapeExpression((s(t,"intlMessage")||e&&s(e,"intlMessage")||n.hooks.helperMissing).call(l,{name:"intlMessage",hash:{intlName:"notifications.NOTIFICATIONS"},data:i,loc:{start:{line:5,column:13},end:{line:5,column:67}}}))+'">\n\t<span class="c-notification-icon" aria-hidden="true">\n\t\t<span class="c-notification-unseencount hidden">'+(null!=(o=s(t,"if").call(l,null!=e?s(e,"unseenNotificationCount"):e,{name:"if",hash:{},fn:n.program(1,i,0),inverse:n.noop,data:i,loc:{start:{line:7,column:50},end:{line:7,column:115}}}))?o:"")+"</span>\n\t</span>\n</a>\n"},useData:!0}),a={};n.Array.each([],(function(e){var t=n.Template.get("hermes/"+e);t&&(a[e]=t)})),n.Template.register("hermes/notifications-menu",(function(e,i){return(i=i||{}).partials=i.partials?n.merge(a,i.partials):a,t(e,i)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-fluid-droparound",(function(n,l){var t=n.Template.Handlebars.revive({1:function(n,l,t,e,o){return" html"},3:function(n,l,t,e,o){return" subview-droparound"},5:function(n,l,t,e,o){return" menu"},7:function(n,l,t,e,o){return" auto-size"},9:function(n,l,t,e,o){var a,i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return"height: "+n.escapeExpression("function"==typeof(a=null!=(a=i(t,"staticHeight")||(null!=l?i(l,"staticHeight"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"staticHeight",hash:{},data:o,loc:{start:{line:2,column:35},end:{line:2,column:51}}}):a)+"px;"},11:function(n,l,t,e,o){var a,i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return"max-height: "+n.escapeExpression("function"==typeof(a=null!=(a=i(t,"maxHeight")||(null!=l?i(l,"maxHeight"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"maxHeight",hash:{},data:o,loc:{start:{line:3,column:29},end:{line:3,column:42}}}):a)+"px;"},13:function(n,l,t,e,o){var a,i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return"width: "+n.escapeExpression("function"==typeof(a=null!=(a=i(t,"staticWidth")||(null!=l?i(l,"staticWidth"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"staticWidth",hash:{},data:o,loc:{start:{line:4,column:26},end:{line:4,column:41}}}):a)+"px;"},15:function(n,l,t,e,o){return"position: fixed;"},17:function(n,l,t,e,o){return"hide-head"},19:function(n,l,t,e,o){var a,i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return"max-height: "+n.escapeExpression("function"==typeof(a=null!=(a=i(t,"maxHeight")||(null!=l?i(l,"maxHeight"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"maxHeight",hash:{},data:o,loc:{start:{line:9,column:55},end:{line:9,column:68}}}):a)+"px; overflow: auto;"},21:function(n,l,t,e,o){var a,i,r=null!=l?l:n.nullContext||{},u=n.hooks.helperMissing,c=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t<div class="content text-only'+(null!=(a=c(t,"if").call(r,null!=l?c(l,"autoSizeToContent"):l,{name:"if",hash:{},fn:n.program(7,o,0),inverse:n.noop,data:o,loc:{start:{line:11,column:32},end:{line:11,column:74}}}))?a:"")+'" style="'+(null!=(a=(c(t,"ifDefined")||l&&c(l,"ifDefined")||u).call(r,null!=l?c(l,"contentPadding"):l,{name:"ifDefined",hash:{},fn:n.program(22,o,0),inverse:n.noop,data:o,loc:{start:{line:11,column:83},end:{line:11,column:156}}}))?a:"")+'">\n\t\t\t\t'+n.escapeExpression("function"==typeof(i=null!=(i=c(t,"textMessage")||(null!=l?c(l,"textMessage"):l))?i:u)?i.call(r,{name:"textMessage",hash:{},data:o,loc:{start:{line:12,column:4},end:{line:12,column:19}}}):i)+"\n\t\t\t</div>\n"},22:function(n,l,t,e,o){var a,i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return"padding: "+n.escapeExpression("function"==typeof(a=null!=(a=i(t,"contentPadding")||(null!=l?i(l,"contentPadding"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"contentPadding",hash:{},data:o,loc:{start:{line:11,column:121},end:{line:11,column:139}}}):a)+"px;"},24:function(n,l,t,e,o){var a,i=null!=l?l:n.nullContext||{},r=n.hooks.helperMissing,u=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t<div class="content html-only'+(null!=(a=u(t,"if").call(i,null!=l?u(l,"autoSizeToContent"):l,{name:"if",hash:{},fn:n.program(7,o,0),inverse:n.noop,data:o,loc:{start:{line:16,column:32},end:{line:16,column:74}}}))?a:"")+'" style="'+(null!=(a=(u(t,"ifDefined")||l&&u(l,"ifDefined")||r).call(i,null!=l?u(l,"contentPadding"):l,{name:"ifDefined",hash:{},fn:n.program(22,o,0),inverse:n.noop,data:o,loc:{start:{line:16,column:83},end:{line:16,column:156}}}))?a:"")+'">\n\t\t\t\t'+n.escapeExpression((u(t,"renderTrustedMarkup")||l&&u(l,"renderTrustedMarkup")||r).call(i,null!=l?u(l,"htmlMessage"):l,{name:"renderTrustedMarkup",hash:{},data:o,loc:{start:{line:17,column:4},end:{line:17,column:39}}}))+"\n\t\t\t</div>\n"},26:function(n,l,t,e,o){var a,i=null!=l?l:n.nullContext||{},r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t<div class="content subview'+(null!=(a=r(t,"if").call(i,null!=l?r(l,"autoSizeToContent"):l,{name:"if",hash:{},fn:n.program(7,o,0),inverse:n.noop,data:o,loc:{start:{line:21,column:30},end:{line:21,column:72}}}))?a:"")+'" style="'+(null!=(a=(r(t,"ifDefined")||l&&r(l,"ifDefined")||n.hooks.helperMissing).call(i,null!=l?r(l,"contentPadding"):l,{name:"ifDefined",hash:{},fn:n.program(22,o,0),inverse:n.noop,data:o,loc:{start:{line:21,column:81},end:{line:21,column:154}}}))?a:"")+'"></div>\n'},28:function(n,l,t,e,o,a,i){var r,u=null!=l?l:n.nullContext||{},c=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t<div class="content menu" style="'+(null!=(r=(c(t,"ifDefined")||l&&c(l,"ifDefined")||n.hooks.helperMissing).call(u,null!=l?c(l,"contentPadding"):l,{name:"ifDefined",hash:{},fn:n.program(22,o,0,a,i),inverse:n.noop,data:o,loc:{start:{line:24,column:36},end:{line:24,column:109}}}))?r:"")+'">\n\t\t\t\t<ul role="menu">\n'+(null!=(r=c(t,"each").call(u,null!=l?c(l,"menuItems"):l,{name:"each",hash:{},fn:n.program(29,o,0,a,i),inverse:n.noop,data:o,loc:{start:{line:26,column:5},end:{line:43,column:14}}}))?r:"")+"\t\t\t\t</ul>\n\t\t\t</div>\n"},29:function(n,l,t,e,o,a,i){var r,u=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(r=u(t,"if").call(null!=l?l:n.nullContext||{},null!=i[1]?u(i[1],"multiSelect"):i[1],{name:"if",hash:{},fn:n.program(30,o,0,a,i),inverse:n.program(35,o,0,a,i),data:o,loc:{start:{line:27,column:6},end:{line:42,column:13}}}))?r:""},30:function(n,l,t,e,o){var a,i,r=null!=l?l:n.nullContext||{},u=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t\t\t\t<li role="menuitem" '+(null!=(a=u(t,"if").call(r,null!=l?u(l,"selected"):l,{name:"if",hash:{},fn:n.program(31,o,0),inverse:n.noop,data:o,loc:{start:{line:28,column:27},end:{line:28,column:66}}}))?a:"")+'>\n\t\t\t\t\t\t\t\t<span class="selection"></span>\n\t\t\t\t\t\t\t\t'+n.escapeExpression("function"==typeof(i=null!=(i=u(t,"text")||(null!=l?u(l,"text"):l))?i:n.hooks.helperMissing)?i.call(r,{name:"text",hash:{},data:o,loc:{start:{line:30,column:8},end:{line:30,column:16}}}):i)+(null!=(a=u(t,"if").call(r,null!=l?u(l,"itemFlag"):l,{name:"if",hash:{},fn:n.program(33,o,0),inverse:n.noop,data:o,loc:{start:{line:30,column:16},end:{line:30,column:95}}}))?a:"")+"\n\t\t\t\t\t\t\t</li>\n"},31:function(n,l,t,e,o){return'class="selected"'},33:function(n,l,t,e,o){var a,i=null!=l?l:n.nullContext||{},r=n.hooks.helperMissing,u="function",c=n.escapeExpression,s=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return" - "+c(typeof(a=null!=(a=s(t,"itemFlag")||(null!=l?s(l,"itemFlag"):l))?a:r)===u?a.call(i,{name:"itemFlag",hash:{},data:o,loc:{start:{line:30,column:35},end:{line:30,column:47}}}):a)+'<div class="label-new">'+c(typeof(a=null!=(a=s(t,"itemFlag")||(null!=l?s(l,"itemFlag"):l))?a:r)===u?a.call(i,{name:"itemFlag",hash:{},data:o,loc:{start:{line:30,column:70},end:{line:30,column:82}}}):a)+"</div>"},35:function(n,l,t,e,o){var a,i,r=null!=l?l:n.nullContext||{},u=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t\t\t\t<li role="menuitem"\n\t\t\t\t\t\t\t\tclass="'+(null!=(a=u(t,"if").call(r,null!=l?u(l,"hasDivider"):l,{name:"if",hash:{},fn:n.program(36,o,0),inverse:n.noop,data:o,loc:{start:{line:34,column:15},end:{line:34,column:52}}}))?a:"")+"\n\t\t\t\t\t\t\t\t\t"+(null!=(a=u(t,"if").call(r,null!=l?u(l,"isSelected"):l,{name:"if",hash:{},fn:n.program(38,o,0),inverse:n.noop,data:o,loc:{start:{line:35,column:9},end:{line:35,column:48}}}))?a:"")+"\n\t\t\t\t\t\t\t\t\t"+(null!=(a=u(t,"if").call(r,null!=l?u(l,"wordWrap"):l,{name:"if",hash:{},fn:n.program(40,o,0),inverse:n.noop,data:o,loc:{start:{line:36,column:9},end:{line:36,column:42}}}))?a:"")+'"\n\t\t\t\t\t\t\t\t'+(null!=(a=u(t,"if").call(r,null!=l?u(l,"href"):l,{name:"if",hash:{},fn:n.noop,inverse:n.program(42,o,0),data:o,loc:{start:{line:37,column:8},end:{line:37,column:39}}}))?a:"")+">\n\t\t\t\t\t\t\t\t"+(null!=(a=u(t,"if").call(r,null!=l?u(l,"href"):l,{name:"if",hash:{},fn:n.program(44,o,0),inverse:n.noop,data:o,loc:{start:{line:38,column:8},end:{line:38,column:92}}}))?a:"")+"\n\t\t\t\t\t\t\t\t\t"+n.escapeExpression("function"==typeof(i=null!=(i=u(t,"text")||(null!=l?u(l,"text"):l))?i:n.hooks.helperMissing)?i.call(r,{name:"text",hash:{},data:o,loc:{start:{line:39,column:9},end:{line:39,column:17}}}):i)+(null!=(a=u(t,"if").call(r,null!=l?u(l,"itemFlag"):l,{name:"if",hash:{},fn:n.program(47,o,0),inverse:n.noop,data:o,loc:{start:{line:39,column:17},end:{line:39,column:81}}}))?a:"")+"\n\t\t\t\t\t\t\t\t"+(null!=(a=u(t,"if").call(r,null!=l?u(l,"href"):l,{name:"if",hash:{},fn:n.program(49,o,0),inverse:n.noop,data:o,loc:{start:{line:40,column:8},end:{line:40,column:31}}}))?a:"")+"\n\t\t\t\t\t\t\t</li>\n"},36:function(n,l,t,e,o){return" has-divider"},38:function(n,l,t,e,o){return" selected-item"},40:function(n,l,t,e,o){return" word-wrap"},42:function(n,l,t,e,o){return'tabindex="0"'},44:function(n,l,t,e,o){var a,i,r=null!=l?l:n.nullContext||{},u=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<a href="'+n.escapeExpression("function"==typeof(i=null!=(i=u(t,"href")||(null!=l?u(l,"href"):l))?i:n.hooks.helperMissing)?i.call(r,{name:"href",hash:{},data:o,loc:{start:{line:38,column:29},end:{line:38,column:37}}}):i)+'"'+(null!=(a=u(t,"if").call(r,null!=l?u(l,"className"):l,{name:"if",hash:{},fn:n.program(45,o,0),inverse:n.noop,data:o,loc:{start:{line:38,column:38},end:{line:38,column:84}}}))?a:"")+">"},45:function(n,l,t,e,o){var a,i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return' class="'+n.escapeExpression("function"==typeof(a=null!=(a=i(t,"className")||(null!=l?i(l,"className"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"className",hash:{},data:o,loc:{start:{line:38,column:63},end:{line:38,column:76}}}):a)+'"'},47:function(n,l,t,e,o){var a,i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<div class="label-new">'+n.escapeExpression("function"==typeof(a=null!=(a=i(t,"itemFlag")||(null!=l?i(l,"itemFlag"):l))?a:n.hooks.helperMissing)?a.call(null!=l?l:n.nullContext||{},{name:"itemFlag",hash:{},data:o,loc:{start:{line:39,column:56},end:{line:39,column:68}}}):a)+"</div>"},49:function(n,l,t,e,o){return"</a>"},51:function(n,l,t,e,o){return"hide-foot"},53:function(n,l,t,e,o){return'\t\t<div class="droparrow up"></div>\n'},compiler:[8,">= 4.3.0"],main:function(n,l,t,e,o,a,i){var r,u,c=null!=l?l:n.nullContext||{},s=n.hooks.helperMissing,m="function",p=n.escapeExpression,f=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<div class="droparound'+(null!=(r=f(t,"if").call(c,null!=l?f(l,"htmlMessage"):l,{name:"if",hash:{},fn:n.program(1,o,0,a,i),inverse:n.noop,data:o,loc:{start:{line:1,column:22},end:{line:1,column:53}}}))?r:"")+(null!=(r=f(t,"if").call(c,null!=l?f(l,"subview"):l,{name:"if",hash:{},fn:n.program(3,o,0,a,i),inverse:n.noop,data:o,loc:{start:{line:1,column:53},end:{line:1,column:94}}}))?r:"")+(null!=(r=f(t,"if").call(c,null!=l?f(l,"menuItems"):l,{name:"if",hash:{},fn:n.program(5,o,0,a,i),inverse:n.noop,data:o,loc:{start:{line:1,column:94},end:{line:1,column:123}}}))?r:"")+(null!=(r=f(t,"if").call(c,null!=l?f(l,"autoSizeToContent"):l,{name:"if",hash:{},fn:n.program(7,o,0,a,i),inverse:n.noop,data:o,loc:{start:{line:1,column:123},end:{line:1,column:165}}}))?r:"")+" "+p(typeof(u=null!=(u=f(t,"classList")||(null!=l?f(l,"classList"):l))?u:s)===m?u.call(c,{name:"classList",hash:{},data:o,loc:{start:{line:1,column:166},end:{line:1,column:179}}}):u)+'"\nstyle="'+(null!=(r=f(t,"if").call(c,null!=l?f(l,"staticHeight"):l,{name:"if",hash:{},fn:n.program(9,o,0,a,i),inverse:n.noop,data:o,loc:{start:{line:2,column:7},end:{line:2,column:61}}}))?r:"")+"\n"+(null!=(r=f(t,"if").call(c,null!=l?f(l,"maxHeight"):l,{name:"if",hash:{},fn:n.program(11,o,0,a,i),inverse:n.noop,data:o,loc:{start:{line:3,column:0},end:{line:3,column:52}}}))?r:"")+"\n"+(null!=(r=f(t,"if").call(c,null!=l?f(l,"staticWidth"):l,{name:"if",hash:{},fn:n.program(13,o,0,a,i),inverse:n.noop,data:o,loc:{start:{line:4,column:0},end:{line:4,column:51}}}))?r:"")+"\n"+(null!=(r=f(t,"if").call(c,null!=l?f(l,"positionFixed"):l,{name:"if",hash:{},fn:n.program(15,o,0,a,i),inverse:n.noop,data:o,loc:{start:{line:5,column:0},end:{line:5,column:44}}}))?r:"")+'">\n\t<div class="head '+(null!=(r=f(t,"unless").call(c,null!=l?f(l,"headContent"):l,{name:"unless",hash:{},fn:n.program(17,o,0,a,i),inverse:n.noop,data:o,loc:{start:{line:6,column:18},end:{line:6,column:61}}}))?r:"")+'">\n\t\t'+p(typeof(u=null!=(u=f(t,"headContent")||(null!=l?f(l,"headContent"):l))?u:s)===m?u.call(c,{name:"headContent",hash:{},data:o,loc:{start:{line:7,column:2},end:{line:7,column:17}}}):u)+'\n\t</div>\n\t<div class="body" style="'+(null!=(r=f(t,"if").call(c,null!=l?f(l,"maxHeight"):l,{name:"if",hash:{},fn:n.program(19,o,0,a,i),inverse:n.noop,data:o,loc:{start:{line:9,column:26},end:{line:9,column:94}}}))?r:"")+'">\n'+(null!=(r=f(t,"if").call(c,null!=l?f(l,"textMessage"):l,{name:"if",hash:{},fn:n.program(21,o,0,a,i),inverse:n.noop,data:o,loc:{start:{line:10,column:2},end:{line:14,column:9}}}))?r:"")+(null!=(r=f(t,"if").call(c,null!=l?f(l,"htmlMessage"):l,{name:"if",hash:{},fn:n.program(24,o,0,a,i),inverse:n.noop,data:o,loc:{start:{line:15,column:2},end:{line:19,column:9}}}))?r:"")+(null!=(r=f(t,"if").call(c,null!=l?f(l,"subview"):l,{name:"if",hash:{},fn:n.program(26,o,0,a,i),inverse:n.noop,data:o,loc:{start:{line:20,column:2},end:{line:22,column:9}}}))?r:"")+(null!=(r=f(t,"if").call(c,null!=l?f(l,"menuItems"):l,{name:"if",hash:{},fn:n.program(28,o,0,a,i),inverse:n.noop,data:o,loc:{start:{line:23,column:2},end:{line:46,column:9}}}))?r:"")+'\t</div>\n\t<div class="foot '+(null!=(r=f(t,"unless").call(c,null!=l?f(l,"footContent"):l,{name:"unless",hash:{},fn:n.program(51,o,0,a,i),inverse:n.noop,data:o,loc:{start:{line:48,column:18},end:{line:48,column:61}}}))?r:"")+'">\n\t\t'+p(typeof(u=null!=(u=f(t,"footContent")||(null!=l?f(l,"footContent"):l))?u:s)===m?u.call(c,{name:"footContent",hash:{},data:o,loc:{start:{line:49,column:2},end:{line:49,column:17}}}):u)+"\n\t</div>\n"+(null!=(r=f(t,"if").call(c,null!=l?f(l,"showDropArrow"):l,{name:"if",hash:{},fn:n.program(53,o,0,a,i),inverse:n.noop,data:o,loc:{start:{line:51,column:1},end:{line:53,column:8}}}))?r:"")+"</div>\n"},useData:!0,useDepths:!0}),e={};n.Array.each([],(function(l){var t=n.Template.get("hermes/"+l);t&&(e[l]=t)})),n.Template.register("hermes/fluid-droparound",(function(l,o){return(o=o||{}).partials=o.partials?n.merge(e,o.partials):e,t(l,o)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-flickr-balls",(function(e,l){var a=e.Template.Handlebars.revive({1:function(e,l,a,r,n){return" block"},compiler:[8,">= 4.3.0"],main:function(e,l,a,r,n){var t,i=e.lookupProperty||function(e,l){if(Object.prototype.hasOwnProperty.call(e,l))return e[l]};return'<div class="balls '+(null!=(t=i(a,"if").call(null!=l?l:e.nullContext||{},null!=l?i(l,"isBlock"):l,{name:"if",hash:{},fn:e.program(1,n,0),inverse:e.noop,data:n,loc:{start:{line:1,column:18},end:{line:1,column:46}}}))?t:"")+'">\n\t<div class="blue ball"></div><div class="pink ball"></div>\n</div>'},useData:!0}),r={};e.Array.each([],(function(l){var a=e.Template.get("hermes/"+l);a&&(r[l]=a)})),e.Template.register("hermes/flickr-balls",(function(l,n){return(n=n||{}).partials=n.partials?e.merge(r,n.partials):r,a(l,n)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("fluid-droparound-view",(function(e,t){"use strict";var i,r,n,o=require("hermes-core/flog")(t);i={css:{destinationContainer:"body",subviewContent:".content.subview",menuContent:".content.menu",droparoundContainer:".droparound",droparoundContent:".body .content",droparrow:".droparrow"},options:{}},r={supportsTransform:!1,droparound:{height:0,width:0}},n=function(e,t,i){var r,n,o,a,s,l,u=e.x,c=e.y,d=e.width,h=e.height,g=e.viewportX,v=t.width,f=t.height,p=i.height,b=i.width,w=i.preferredHorizontalOrientation,H=i.preferredVerticalOrientation,m=c<f/2,A=u<v/2;return"down"===H&&(m=!0),"up"===H&&(m=!1),"right"===w&&(A=!0),"left"===w&&(A=!1),i.ignoreBoundary||(p>g&&(m=!0),c+h+p<g&&(m=!1)),r=d*i.anchorPivotHoriz,m?(s=c+h,l=c+h+p,n={vertical:"down"}):(s=c-p,l=c,n={vertical:"up"}),A?(o=u+r-i.arrowOffset-i.arrowWidth/2,o=Math.min(o,v-t.paddingHorizontal-b),a=(o=Math.max(o,t.paddingHorizontal))+b,n.horizontal="right"):(a=u+r+i.arrowOffset+i.arrowWidth/2,a=Math.max(a,b+t.paddingHorizontal),o=(a=Math.min(a,v-t.paddingHorizontal))-b,n.horizontal="left"),{coords:[o,a,s,l],orientation:n}},e.namespace("Views").FluidDroparound=e.FlickrView.create(this.name,e.FlickrView,[],{initializer:function(e){this.set("isActiveViewAgnostic",!0)},buildContainer:function(){var e=this.get("width");if(!(this.get("textMessage")||this.get("htmlMessage")||this.get("subview")||this.get("menuItems")))return o.warn("requires a `textMessage`, `htmlMessage`, `subview`, or `menuItems`."),this;if(this.get("menuItems")&&this.set("menuItems",this.get("menuItems").filter((function(e){return!e.hidden}))),this.get("keepInsideViewportHoriz")){var t=this.appContext.viewportData.getWidth()-2*this.get("viewportPaddingHoriz");e=Math.min(this.get("width"),t)}return this.setContainerWithTemplate("fluid-droparound",{textMessage:this.get("textMessage"),htmlMessage:this.get("message")?this.get("message"):this.get("htmlMessage"),subview:!!this.get("subview"),menuItems:this.get("menuItems"),multiSelect:this.get("multiSelect"),showDropArrow:this.get("showDropArrow"),classList:this.get("classList"),footContent:this.get("footContent"),headContent:this.get("headContent"),staticWidth:e,staticHeight:this.get("height"),maxHeight:this.get("maxHeight"),positionFixed:this.get("positionFixed"),autoSizeToContent:this.get("autoSizeToContent"),contentPadding:this.get("contentPadding")}),this.overlayId=this.appContext.overlayManager.push({view:this,overlayClassList:this.get("overlayClassList"),hideOverlay:!0,dismissOnOverlayClick:this.get("dismissOnOverlayClick"),ignorePointerEvents:this.get("invisibleOverlay"),dismissOnEsc:!0,disableBodyScroll:!1,popBeforePushOther:this.get("popBeforePushOther"),requiredParentNode:this.get("anchorElement")}),this.appendAndPosition(),this},activate:function(){var t=this.get("container"),r=this;this.registerEventHandler(e.on("droparound:reposition",e.bind(this.anchorPositionChange,this))),this.registerEventHandler(e.on("history:change",(function(e){"popstate"===e.src&&e.prevVal&&e.newVal&&(e.prevVal.flickr&&e.prevVal.flickr.referrer||e.newVal.flickr&&e.newVal.flickr.referrer)||r.close(e)}))),this.get("useDefaultKeyboardNavigation")&&e.use("keyboard-manager",(function(e){r.registerEventHandler(t.on("keydown",r.keyboardNavigation,r))}));var n=this.get("anchorElement"),o=this.get("keyboardAnchorElement");return o||(o=n.hasAttribute("aria-haspopup")?n:n.ancestor("[aria-haspopup=true]")),o&&(this.set("keyboardAnchorElement",o),this.get("keyboardAnchorElement").setAttribute("aria-expanded","true"),this.registerEventHandler(o.on("key",this.enterDroparound,"down:40",this))),this.get("subview")&&this.loadSubview(),this.get("menuItems")&&this.registerEventHandler(t.one(i.css.menuContent).delegate(["click","keydown"],function(e){"click"!==e.type&&13!==e.keyCode||this.onMenuItemClick(e)}.bind(this),"li")),this.get("observePageResize")&&this.observePageResize(),this.get("closeOnScroll")&&this.observePageScroll(),this.get("preventPageScrollOnScroll")&&this.registerEventHandler(t.on("mousewheel",this.preventPageScroll.bind(this))),this.fire("activated"),this},enterDroparound:function(e){var t=this.get("container").one("ul li");t&&(e.preventDefault(),t.focus())},keyboardNavigation:function(e){var t=e.keyCode,i=38===t||9===t&&e.shiftKey,r=40===t||9===t&&!e.shiftKey,n=e.target.ancestor("li",!0);if(!this.appContext.getKeyboardManager().inputHasFocus())if(i&&n&&n.previous("li"))e.preventDefault(),this.focusOnPreviousItem(e);else if(r)e.preventDefault(),n&&n.next("li")&&this.focusOnNextItem(e);else if(i){e.preventDefault();var o=this.get("keyboardAnchorElement");o&&(this.close(),o.focus(),o.removeClass("no-outline"))}},focusOnPreviousItem:function(e){var t=e.target.ancestor("li",!0);if(t){var i=t.previous("li");i&&(i.one("a")?i.one("a").focus():i.focus())}},focusOnNextItem:function(e){var t=e.target.ancestor("li",!0);if(t){var i=t.next("li");i&&(i.one("a")?i.one("a").focus():i.focus())}},getDroparoundContainer:function(){return this.get("container")?this.get("container").one(i.css.droparoundContainer):null},loadSubview:function(){var t,r,n=!1,o=this.get("subview"),a=this;(t=this.get("container").one(i.css.subviewContent)).addClass("loading"),t.appendChild(e.Node.create(this.templates("flickr-balls")({})).addClass("flickr-balls")),r=setTimeout((function(){n=!0}),40),this.loading=!0,o.appContext=a.appContext,o.set("isActiveViewAgnostic",!0),o.initialize().then((function(e){clearTimeout(r),n&&(e.get("container").addClass("load-transition"),setTimeout((function(){e.get("container").removeClass("load-transition")}),1)),a.onSubviewInitialized(e)}))},onSubviewInitialized:function(t){var r=this,n=this.get("container").one(i.css.subviewContent);this.loading&&(this.loading=!1,n.removeClass("loading"),n.one(".flickr-balls").remove(!0),n.appendChild(t.get("container")),t.on("subviewViewEvent",(function(e){e&&e.details&&e.details.length&&r.fire.apply(r,e.details)})),t.normalizedActivate(),t.recursivelyActivateSubviews(),r.appendAndPosition(),r.registerEventHandler(r.get("subview").on("actionClick",e.bind(r.handleAction,r))),r.registerEventHandler(r.get("subview").on("readyToClose",e.bind(r.close,r))))},onMenuItemClick:function(e){var t,r,n;(t=e.target.ancestor("li",!0))&&-1!==(r=this.get("container").one(i.css.menuContent).all("li").indexOf(t))&&(n=this.get("menuItems")[r],this.get("multiSelect")&&(n.selected=!n.selected,t.toggleClass("selected")),this.fire("selected",{menuItemIndex:r,menuItem:n,origEvent:e}))},appendAndPosition:function(t){e.one(i.css.destinationContainer);var n=this.get("container").one(i.css.droparoundContainer);this.appContext.overlayManager.placeViewAfterOverlay(this.overlayId),r.droparound.width=this.get("width")||n.getComputedStyle("width"),r.droparound.height=this.get("height")||n.getComputedStyle("height"),this.repositionToElement(t||this.get("anchorElement"))},updateTextMessage:function(e){e&&""!==e&&(this.set("textMessage",e),this.buildContainer())},updateHTMLMessage:function(e){e&&""!==e&&(this.set("htmlMessage",e),this.buildContainer())},anchorPositionChange:function(){this.repositionToElement(this.get("anchorElement"))},observePageResize:function(){var t=this;this.registerEventHandler(e.globalEvents.subscribe("window:resize",(function(i){e.fire("droparound:reposition"),t.get("closeOnResize")&&t.handleClose(i)})))},observePageScroll:function(){var t=YUI.Env.isServer?0:e.config.win.pageYOffset;this.get("startingScrollPoint")||this.set("startingScrollPoint",t),this.registerEventHandler(e.globalEvents.subscribe("window:scroll",this.handleScroll.bind(this)))},handleScroll:function(t){var i,r=this.get("startingScrollPoint");r?(i=e.config.win.pageYOffset,(r+this.get("closeOnScrollDistance")<i||r-this.get("closeOnScrollDistance")>i)&&this.handleClose(t)):this.set("startingScrollPoint",e.config.win.pageYOffset)},repositionToElement:function(e,t){var r,o,a=this.get("container"),s=this.get("positionFixed"),l=a.one(".droparound"),u=this.get("showDropArrow")?l.one(i.css.droparrow):void 0,c=l.one(i.css.droparoundContent),d=(c.get("offsetWidth"),c.get("offsetHeight"),u?u.get("offsetHeight"):0),h=u?u.get("offsetWidth"):0,g=e.getXY(),v=g[0],f=g[1],p=e.getDOMNode().getBoundingClientRect(),b=p.width;if(this.get("keepInsideViewportHoriz")){var w=this.appContext.viewportData.getWidth()-2*this.get("viewportPaddingHoriz"),H=this.get("width");H?l.setStyles({width:H}):l.setStyles({width:"auto"}),l.getDOMNode().getBoundingClientRect().width>w&&l.setStyles({width:w})}o=b*(r={width:l.get("offsetWidth"),height:l.get("offsetHeight"),arrowOffset:this.get("arrowOffset"),anchorPivotHoriz:this.get("anchorPivotHoriz"),arrowWidth:h}).anchorPivotHoriz,r.ignoreBoundary=!!t,this.get("preferLeft")&&(r.preferredHorizontalOrientation="left"),this.get("preferRight")&&(r.preferredHorizontalOrientation="right"),this.get("preferTop")&&(r.preferredVerticalOrientation="up"),this.get("preferBottom")&&(r.preferredVerticalOrientation="down"),(!this.anchorCoords||0!==this.x&&0!==this.y)&&(this.anchorCoords={x:s?p.left:v,y:s?p.top:f,width:p.width,height:p.height,viewportX:p.top||0});var m=n(this.anchorCoords,{width:this.appContext.viewportData.getWidth(),height:this.appContext.viewportData.getHeight(),paddingHorizontal:this.get("viewportPaddingHoriz")},r);if("down"===m.orientation.vertical?m.coords[2]+=d-this.get("anchorOffsetVertical"):m.coords[2]-=d+this.get("anchorOffsetVertical"),l.setStyles({left:m.coords[0],top:m.coords[2]}),u)if(u.removeClass("down").removeClass("up").removeClass("left").removeClass("right").addClass(m.orientation.vertical),"left"===m.orientation.horizontal){var A=this.appContext.viewportData.getWidth()-this.anchorCoords.x,C=this.appContext.viewportData.getWidth()-(r.width+m.coords[0]);u.setStyles({right:A-o-u.get("clientWidth")/2-C,left:"auto"})}else{var y=this.anchorCoords.x,S=m.coords[0];u.setStyles({left:y+o-u.get("clientWidth")/2-S})}},handleClose:function(e){this.close()},handleAction:function(e){this.fire("actionClick",e),this.get("dismissOnActionClick")&&this.close(e)},show:function(){var e=!this.isActivated,t=this;return this.initialize().then((function(){t.isClosed=!1,e||t.activate()})),this},close:function(){var e=this.get("container");if(!this.isClosed){this.loading=!1,this.isClosed=!0;var t=this.get("keyboardAnchorElement");t&&(t.setAttribute("aria-expanded","false"),t.focus(),t.addClass("no-outline")),this.fire("closeDroparound"),this.destroy(),this.get("subview")&&this.get("subview").destroy(),e&&e.remove(!0),this.appContext.overlayManager.pop(this.overlayId)}},destructor:function(){this.detachAll()},freeze:function(){e.one("body").setStyles({overflow:"hidden"})},unfreeze:function(){e.one("body").setStyles({overflow:"visible"})},preventPageScroll:function(e){var t,i,r=this.get("container"),n=e.target,o=!1;if(r.contains(n)){for(;n!==r&&!o;)"hidden"===n.getStyle("overflow")||"visible"===n.getStyle("overflow")||n.get("offsetHeight")>=n.get("scrollHeight")?n=n.get("parentNode"):o=!0;o&&(t=e.wheelDelta<0,((i=n.getDOMNode()).scrollTop<=0&&!t||i.scrollTop+i.offsetHeight>=i.scrollHeight&&t)&&e.preventDefault())}}},{ATTRS:{dismissOnOverlayClick:{value:!0,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},dismissOnActionClick:{value:!0,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},invisibleOverlay:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},preferredSide:{value:null},message:{value:null},textMessage:{value:null},htmlMessage:{value:null},footContent:{value:null},headContent:{value:null},width:{value:0,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},height:{value:0,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},maxHeight:{value:0,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},subview:{value:null},menuItems:{value:null},classList:{value:"",validator:function(t,i){return e.AttributeHelpers.validateString(t)},setter:function(t,i){return e.AttributeHelpers.coerceString(t)}},anchorElement:{value:null},keyboardAnchorElement:{value:null},useDefaultKeyboardNavigation:{value:!0},showDropArrow:{value:!0,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},anchorOffsetVertical:{value:0,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},arrowOffset:{value:8,validator:function(t,i){return e.AttributeHelpers.validateFloat(t)},setter:function(t,i){return e.AttributeHelpers.coerceFloat(t)}},keepInsideViewportHoriz:{value:!0,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},viewportPaddingHoriz:{value:2,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},anchorPivotHoriz:{value:.5,validator:function(t,i){return e.AttributeHelpers.validateFloat(t)},setter:function(t,i){return e.AttributeHelpers.coerceFloat(t)}},contentPadding:{value:void 0,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},minVerticalSpace:{value:60,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},minHorizontalSpace:{value:60,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},dropdownArrowWidth:{value:21,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},dropdownArrowHeight:{value:11},anchorPositionOffset:{value:15,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},observePageResize:{value:!0,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},preferLeft:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},preferRight:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},preferTop:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},preferBottom:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},positionFixed:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},closeOnScroll:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},closeOnScrollDistance:{value:40,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)},setter:function(t,i){return e.AttributeHelpers.coerceInteger(t)}},closeOnResize:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},overlayClassList:{value:"",validator:function(t,i){return e.AttributeHelpers.validateString(t)},setter:function(t,i){return e.AttributeHelpers.coerceString(t)}},forceLeft:{value:null},forceRight:{value:null},autoSizeToContent:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},horizCenterToAnchor:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},multiSelect:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},preventPageScrollOnScroll:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,i){return e.AttributeHelpers.coerceBoolean(t)}},popBeforePushOther:{value:!1}}})}),"@VERSION@",{requires:["flickr-view","hermes-template-fluid-droparound","hermes-template-flickr-balls","attribute-helpers"],optionalRequires:["fluid","hermes-core"]});